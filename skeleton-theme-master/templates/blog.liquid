{% paginate blog.articles by 5 %}
<div class="">
{% if current_tags %}
<h1 class="">{{ blog.title | link_to: blog.url }} &raquo; {{ current_tags.first }}</h1>
{% else %}
<h1 class="">{{ blog.title }}</h1>
{% endif %}

<ul id="blog-main">
  {% for article in blog.articles %}
  <li class="blog-article{% if forloop.first %} first{% endif %}{% if forloop.last %} last{% endif %}">
    <div class="article-info">
      <h2 class="blog-article-title">
        <a href="{{ article.url }}">{{ article.title }}</a>
      </h2>
      <h6 class="blog-article-date">
        <time pubdate datetime="{{ article.published_at | date: '%Y-%m-%d' }}">{{ article.published_at | date: '%b %d, %Y' }}, </time>
      </h6>
      {% if blog.comments_enabled? %}
        <h6 class="blog-article-meta-comments">
          <a href="{{ article.url }}#comments">{{ article.comments_count }} {{ article.comments_count | pluralize: 'comment','comments' }}</a>
        </h6>
      {% endif %}
      
      <div style="clear:both"></div>
  
      {% if article.tags.size > 0 %}
      <div class="blog-article-meta-tags">
        <span>Tags: </span>
        {% for tag in article.tags %} 
        <a href="{{ blog.url }}/tagged/{{ tag | handle }}">{{ tag }}</a>{% unless forloop.last %}, {% endunless %}
        {% endfor %}
      </div>
      {% endif %}
    </div>
    
    <div class="rte">
      {% if article.excerpt.size > 0 %}
        {{ article.excerpt }}
      {% else %}
        <p>{{ article.content | strip_html | truncatewords: 100 }}</p>
      {% endif %}
    </div>
    <a class="a-col blog-read-more btn btn-green" href="{{ article.url }}">Read more</a>
  </li>
  <hr class="divider">
  {% endfor %}
</ul>
  
{% if paginate.pages > 1 %}
<div id="pagination">
  {% comment %}
  When paginating blog articles, a previous article is actually a newer article, not an older one,
  because blog articles are shown and paginated in a reversed chronological order.
  The word 'previous' can be confusing, hence we'll change it.
  {% endcomment %}
  {{ paginate | default_pagination | replace: 'Previous', 'Newer articles' | replace: 'Next', 'Older articles' }}
{% endif %}

{% endpaginate %}
</div>